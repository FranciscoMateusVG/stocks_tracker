datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Stock {
  id                    String   @id @default(auto()) @map("_id") @db.ObjectId
  name                  String
  type                  StockType
  average_price         Float
  total_quantity        Int
  actual_total          Float
  actual_investment     Float
  actual_profit         Float
  actual_profit_percent Float
  orders                Order[]
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt
}

model Order {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  product          Stock    @relation(fields: [stockId], references: [id])
  stockId          String   @db.ObjectId
  quantity         Int
  closing_price    Float
  closing_date     DateTime
  closing_total    Float
}

enum StockType {
  fundoImobiliario
  acaoDividendos
  acaoCapital
}
